# –î–æ—Å—Ç—É–ø–Ω—ñ –¥–∞–Ω—ñ –∑ YaWare API v2

**–î–∞—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:** 8 –∂–æ–≤—Ç–Ω—è 2025  
**API:** `https://data1.yaware.com/export/account/json/v2`

## ‚úÖ –†–æ–±–æ—á—ñ –º–µ—Ç–æ–¥–∏

### 1. `getUsers` - –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** –Ω–µ–º–∞—î (–º–æ–∂–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ `is_active` –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ)

**–ü–æ–≤–µ—Ä—Ç–∞—î:**

```json
{
  "id": "7637340",
  "email": "user@example.com",
  "firstname": "–Ü–≤–∞–Ω",
  "lastname": "–Ü–≤–∞–Ω–µ–Ω–∫–æ",
  "group_name": "Tech",
  "is_active": "1",
  "last_activity": "2025-10-08",
  "ip": "185.249.114.138",
  "created_at": "2020-03-17 17:18:36",
  "updated_at": "2025-10-08 03:04:26"
}
```

**–ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è:**

- ‚úÖ –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤
- ‚úÖ Email, —ñ–º'—è, –ø—Ä—ñ–∑–≤–∏—â–µ
- ‚úÖ –ì—Ä—É–ø–∞ (department)
- ‚úÖ –î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (—Ç—ñ–ª—å–∫–∏ –¥–∞—Ç–∞, –±–µ–∑ —á–∞—Å—É)
- ‚úÖ IP –∞–¥—Ä–µ—Å–∞
- ‚úÖ –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—É

---

### 2. `getEmployeesWorkedHours` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑–∞ –ø–µ—Ä—ñ–æ–¥

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**

- `employeeId` - ID —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- `dateFrom` - –ü–æ—á–∞—Ç–∫–æ–≤–∞ –¥–∞—Ç–∞ (YYYY-MM-DD)
- `dateTo` - –ö—ñ–Ω—Ü–µ–≤–∞ –¥–∞—Ç–∞ (YYYY-MM-DD)

**–ü–æ–≤–µ—Ä—Ç–∞—î:**

```json
{
  "totalTime": 30569, // –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å (—Å–µ–∫—É–Ω–¥–∏)
  "productiveTime": 27836, // –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å (—Å–µ–∫—É–Ω–¥–∏)
  "neutralTime": 899, // –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π —á–∞—Å (—Å–µ–∫—É–Ω–¥–∏)
  "distractingTime": 1834 // –í—ñ–¥–≤–æ–ª—ñ–∫–∞—é—á–∏–π —á–∞—Å (—Å–µ–∫—É–Ω–¥–∏)
}
```

**–ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è:**

- ‚úÖ –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å —Ä–æ–±–æ—Ç–∏
- ‚úÖ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å
- ‚úÖ –ù–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å (distractingTime)
- ‚úÖ –ù–µ–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π —á–∞—Å (neutralTime)
- ‚úÖ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —É %

---

### 3. `getGroups` - –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø/–≤—ñ–¥–¥—ñ–ª—ñ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** –Ω–µ–º–∞—î

**–ü–æ–≤–µ—Ä—Ç–∞—î:**

```json
{
  "id": "68788",
  "name": "Tech",
  "is_default": "0",
  "manager_email": "manager@example.com, admin@example.com",
  "created_at": "2020-03-17 17:47:56",
  "updated_at": "2025-07-09 11:42:46"
}
```

**–ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è:**

- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –≥—Ä—É–ø/–≤—ñ–¥–¥—ñ–ª—ñ–≤
- ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä–∏ –≥—Ä—É–ø (email)
- ‚úÖ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ—ó –≥—Ä—É–ø–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–∞–º

---

## ‚ùå –©–æ –ù–ï –ø—Ä–∞—Ü—é—î / –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

- ‚ùå `getEmployeeSummary` - 400 error
- ‚ùå `getEmployeeDay` - 400 error
- ‚ùå `getDayReport` - 400 error
- ‚ùå `getDetailedStat` - 400 error
- ‚ùå `getApplicationStats` - 400 error (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–∞—Ö)
- ‚ùå `getWebsiteStats` - 400 error (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–∞–π—Ç–∞—Ö)
- ‚ùå `getScreenshots` - 400 error (—Å–∫—Ä—ñ–Ω—à–æ—Ç–∏)
- ‚ùå `getProjects` - 400 error (–ø—Ä–æ–µ–∫—Ç–∏/–∑–∞–¥–∞—á—ñ)

---

## ‚è≥ –ß–æ–≥–æ –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î (–∑–∞–ø–∏—Ç –≤ –ø—ñ–¥—Ç—Ä–∏–º–∫—É)

### –ß–∞—Å –ø–µ—Ä—à–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (First Activity Time)

- **–ü—Ä–æ–±–ª–µ–º–∞:** `getEmployeesWorkedHours` –ø–æ–≤–µ—Ä—Ç–∞—î —Ç—ñ–ª—å–∫–∏ —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å, –∞ –Ω–µ timestamp
- **–ü–æ—Ç—Ä—ñ–±–Ω–æ:** –ß–∞—Å –ø–µ—Ä—à–æ–≥–æ –ª–æ–≥—ñ–Ω—É/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∑–∞ –¥–µ–Ω—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "09:15:00")
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –ó–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø—ñ–¥—Ç—Ä–∏–º–∫—É YaWare

---

## üìä –©–æ –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ –ó–ê–†–ê–ó

### ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

1. **–©–æ–¥–µ–Ω–Ω–∏–π –µ–∫—Å–ø–æ—Ä—Ç –≤ Google Sheets:**

   - –î–∞—Ç–∞
   - –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - –ì—Ä—É–ø–∞
   - –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å (–≥–æ–¥)
   - –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å (–≥–æ–¥)
   - –ù–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å (–≥–æ–¥)
   - –ù–µ–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π —á–∞—Å (–≥–æ–¥)
   - **Fact start:** ‚è≥ –æ—á—ñ–∫—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:**
   - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –µ–∫—Å–ø–æ—Ä—Ç—ñ –∑–∞ —Ç—É —Å–∞–º—É –¥–∞—Ç—É - –¥–∞–Ω—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è, –∞ –Ω–µ –¥—É–±–ª—é—é—Ç—å—Å—è
   - –ï–∫—Å–ø–æ—Ä—Ç —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### üéØ –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏

1. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–∞–º:**

   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `getGroups` + –∞–≥—Ä–µ–≥—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –ø–æ –≥—Ä—É–ø–∞—Ö
   - –¢–æ–ø/–Ω–∏–∑ –≥—Ä—É–ø –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
   - –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≥—Ä—É–ø

2. **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º:**

   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∑–∞ –¥–µ–Ω—å
   - –¢–æ–ø –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö/–Ω–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö
   - –¢—Ä–µ–Ω–¥–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (–ø–æ—Ç—Ä—ñ–±–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è)

3. **Telegram –±–æ—Ç:**

   - `/today` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
   - `/user <name>` - –¥–∞–Ω—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - `/group <name>` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥—Ä—É–ø–∏
   - `/top` - —Ç–æ–ø –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö

4. **–ê–ª–µ—Ä—Ç–∏:**
   - –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
   - –ù–∏–∑—å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–µ–∑ –¥–∞–Ω–∏—Ö

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ü–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

**–§–∞–π–ª–∏:**

- `tracker_alert/client/yaware_v2_api.py` - –∫–ª—ñ—î–Ω—Ç API v2
- `tracker_alert/domain/mapping_v2.py` - –º–∞–ø–µ—Ä–∏ –¥–∞–Ω–∏—Ö
- `tracker_alert/scripts/export_daily_v2.py` - –µ–∫—Å–ø–æ—Ä—Ç –≤ Sheets

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É:**

```bash
python3 -m tracker_alert.scripts.export_daily_v2 2025-10-07 --sheet daily_stats
```

**–ê–∫—Ç–∏–≤–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:** 175 (—Å—Ç–∞–Ω–æ–º –Ω–∞ 07.10.2025)

---

## üìù –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚è≥ –û—á—ñ–∫—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ YaWare Support —â–æ–¥–æ firstActivityAt
2. üéØ –í–∏–±—Ä–∞—Ç–∏ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è / Telegram –±–æ—Ç / –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞
3. üìä –ú–æ–∂–ª–∏–≤–æ, —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –∫–æ–ª–∏ Support –Ω–∞–¥–∞—Å—Ç—å —ñ–Ω—Ñ–æ –ø—Ä–æ —ñ–Ω—à—ñ endpoints
