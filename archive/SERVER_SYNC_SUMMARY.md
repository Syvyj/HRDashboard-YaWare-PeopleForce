# –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º - –ó–≤–µ–¥–µ–Ω–Ω—è –∑–º—ñ–Ω

–î–∞—Ç–∞: 5 —Å—ñ—á–Ω—è 2026
–î–∂–µ—Ä–µ–ª–æ: Server_Backup_Working_20260105_192813

## ‚úÖ –ó–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–∏

### 1. models.py - –û–ù–û–í–õ–ï–ù–û ‚úÖ

- –î–æ–¥–∞–Ω–æ –ø–æ–ª–µ `pf_status` –≤ AttendanceRecord
- –î–æ–¥–∞–Ω–∞ –Ω–æ–≤–∞ –º–æ–¥–µ–ª—å `EmployeePreset` –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–µ—Å–µ—Ç—ñ–≤ –≤–∏–±–æ—Ä—É —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤
- –û–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `LatenessRecord` (user_name —Ç–µ–ø–µ—Ä nullable, –¥–æ–¥–∞–Ω–æ leave_reason)
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è —Å—Ö–µ–º–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### 2. constants.py - –î–û–î–ê–ù–û ‚úÖ

- –í–∏–Ω–µ—Å–µ–Ω–æ SEVEN_DAY_WORK_WEEK_IDS –≤ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª
- –î–æ–¥–∞–Ω–æ WEEK_TOTAL_USER_ID_SUFFIX
- –î–æ–¥–∞–Ω–æ MANUAL_FLAG_MAP —Ç–∞ MANUAL_TRACKED_FIELDS

### 3. api.py - –ö–†–ò–¢–ò–ß–ù–ê –ó–ú–Ü–ù–ê ‚úÖ

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥–ø—É—Å—Ç–æ–∫** (—Ä—è–¥–∫–∏ 4605-4635):

```python
# –ë–£–õ–û: if record.status != 'leave': continue
# –°–¢–ê–õ–û: if record.status not in ('leave', 'absent', 'late'): continue
```

–¢–µ–ø–µ—Ä `absent` —Ç–∞ `late` –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–∞—Ö—É—é—Ç—å—Å—è —è–∫ `day_off_days`, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ª–æ–≥—ñ—Ü—ñ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä—ñ.

### 4. views.py - –û–ù–û–í–õ–ï–ù–û ‚úÖ

- –î–æ–¥–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó `_parse_manager_ids()` —Ç–∞ `_can_delete_any_presets()`
- –î–æ–¥–∞–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ `can_manage_presets` —Ç–∞ `can_delete_any_presets` –≤ —à–∞–±–ª–æ–Ω–∞—Ö
- –í–∏–¥–∞–ª–µ–Ω–∞ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ `/lateness`
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ monthly report –∑ `make_response`

### 5. tasks.py - –û–ù–û–í–õ–ï–ù–û ‚úÖ

- –î–æ–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `_backup_database()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤ –ë–î
- –ù–æ–≤–∏–π cron job –æ 09:14 –¥–ª—è –±–µ–∫–∞–ø—É –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –±–µ–∫–∞–ø—ñ–≤ (–∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –æ—Å—Ç–∞–Ω–Ω—ñ 7)

### 6. web_dashboard.py - –ë–ï–ó –ó–ú–Ü–ù ‚úÖ

### 7. requirements.txt - –ë–ï–ó –ó–ú–Ü–ù ‚úÖ

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ

### –õ–æ–∫–∞–ª—å–Ω–æ:

- `dashboard_app/api.py` - –æ–¥–∏–Ω –≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª (5565 —Ä—è–¥–∫—ñ–≤)

### –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥):

- `dashboard_app/api/` - –º–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
  - `attendance.py` - —Ñ—É–Ω–∫—Ü—ñ—ó –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö attendance
  - `reports.py` (946 —Ä—è–¥–∫—ñ–≤) - –º—ñ—Å—è—á–Ω—ñ/—Ç–∏–∂–Ω–µ–≤—ñ –∑–≤—ñ—Ç–∏
  - `employees.py` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º–∏
  - `users.py` - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∏—Å—Ç–µ–º–∏
  - `notes.py` - –Ω–æ—Ç–∞—Ç–∫–∏
  - `sync.py` - —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
  - `audit.py` - –∞—É–¥–∏—Ç –ª–æ–≥–∏
  - `lateness.py` - –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è
  - `scheduler.py` - –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫
  - `utils.py` - –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
  - `services/attendance_service.py` (23KB) - –±—ñ–∑–Ω–µ—Å –ª–æ–≥—ñ–∫–∞

**–ó–∞–≥–∞–ª–æ–º: ~10,702 —Ä—è–¥–∫—ñ–≤** –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É –∑–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –≤–µ–ª–∏–∫–æ–≥–æ —Ñ–∞–π–ª—É.

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (–≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ):

1. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ models.py –∑ —Å–µ—Ä–≤–µ—Ä–∞
2. ‚úÖ –î–æ–¥–∞–Ω–æ constants.py
3. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω—É –ª–æ–≥—ñ–∫—É –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –≤—ñ–¥–ø—É—Å—Ç–æ–∫
4. ‚úÖ –î–æ–¥–∞–Ω–æ import constants –≤ api.py
5. ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—ñ–∫–∞—Ç SEVEN_DAY_WORK_WEEK_IDS

### –°–µ—Ä–µ–¥–Ω—å–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):

1. –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –Ω–∞ –º–æ–¥—É–ª—å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É (api/ –ø–∞–ø–∫–∞)
2. –î–æ–¥–∞—Ç–∏ EmployeePreset —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
3. –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ admin.py, auth.py, views.py

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ:

1. –ü–æ–≤–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ –º–æ–¥—É–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
2. –ü–æ–∫—Ä–∞—â–∏—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
3. –î–æ–¥–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–ª—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

## üîç –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

‚úÖ **–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ "–ë–∞–∫—É–º–æ–≤–∞ –ö—Å–µ–Ω—ñ—è":**

- –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: Day Off = 0
- –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: Day Off = 16 (–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Ö—É—î absent –¥–Ω—ñ)

‚úÖ **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –∑–º—ñ–Ω:**

- –ü–æ—Ä—Ç: 5000
- Debug mode: ON
- –í—Å—ñ –º–æ–¥—É–ª—ñ —ñ–º–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω–∞

‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ –¥–∞–Ω–∏—Ö (5 —Å—ñ—á–Ω—è 19:28):**

- `instance/dashboard.db` (7.8 MB)
- `instance/monthly_notes.json` (5.3 KB)
- `instance/week_notes.json` (75 KB)
- `config/user_schedules.json` (182 KB)

## üìù –ù–æ—Ç–∞—Ç–∫–∏

- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞ (5 —Å—ñ—á–Ω—è 19:28)
- –°–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 5000
- –í—Å—ñ –∑–º—ñ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Git –¥–ª—è –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ rollback

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

–ü–µ—Ä–µ–¥ deploy –Ω–∞ production:

1. –ó—Ä–æ–±–∏—Ç–∏ backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ –º—ñ—Å—è—á–Ω—ñ –∑–≤—ñ—Ç–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ PDF export
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –≤—ñ–¥–ø—É—Å—Ç–æ–∫
