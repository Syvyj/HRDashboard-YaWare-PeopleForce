# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –µ–∫—Å–ø–æ—Ä—Ç –≤ Google Sheets

## üìã –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç—É—î –¥–∞–Ω—ñ –ø—Ä–æ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –≤ Google Sheets —â–æ–¥–Ω—è –æ **08:00 Warsaw time**.

## ‚è∞ –†–æ–∑–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏

### –©–æ–¥–µ–Ω–Ω—ñ –∑–∞–¥–∞—á—ñ:

1. **08:00** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –µ–∫—Å–ø–æ—Ä—Ç –≤ Google Sheets (–ü–Ω-–ü—Ç)
2. **10:00** - Telegram –∑–≤—ñ—Ç –ø—Ä–æ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è (—â–æ–¥–Ω—è)

### –í–∏—Ö—ñ–¥–Ω—ñ –¥–Ω—ñ:

- **–°—É–±–æ—Ç–∞** - –ï–∫—Å–ø–æ—Ä—Ç –ù–ï –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
- **–ù–µ–¥—ñ–ª—è** - –ï–∫—Å–ø–æ—Ä—Ç –ù–ï –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è

## üìÖ –õ–æ–≥—ñ–∫–∞ –µ–∫—Å–ø–æ—Ä—Ç—É

### –ü–æ–Ω–µ–¥—ñ–ª–æ–∫-–ü'—è—Ç–Ω–∏—Ü—è (–í—Ç-–ü—Ç):

- –ï–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è **–≤—á–æ—Ä–∞—à–Ω—ñ–π –¥–µ–Ω—å**
- –ü—Ä–∏–∫–ª–∞–¥: –£ –≤—ñ–≤—Ç–æ—Ä–æ–∫ 15.10 –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è –ø–æ–Ω–µ–¥—ñ–ª–æ–∫ 14.10

### –ü–æ–Ω–µ–¥—ñ–ª–æ–∫:

- –ï–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è **–ø'—è—Ç–Ω–∏—Ü—è –º–∏–Ω—É–ª–æ–≥–æ —Ç–∏–∂–Ω—è**
- –ü—Ä–∏–∫–ª–∞–¥: –£ –ø–æ–Ω–µ–¥—ñ–ª–æ–∫ 14.10 –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è –ø'—è—Ç–Ω–∏—Ü—è 11.10
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π —Ç–∏–∂–¥–µ–Ω—å —è–∫—â–æ –π–æ–≥–æ —â–µ –Ω–µ–º–∞—î

## üîÑ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Ç–∏–∂–Ω—è

–ö–æ–ª–∏ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è –ø'—è—Ç–Ω–∏—Ü—è —ñ –ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–æ–≤–∏–π —Ç–∏–∂–¥–µ–Ω—å:

1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –∞—Ä–∫—É—à (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ "Week 42 (07-11 Oct 2025)")
2. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∫–∞—Ä–∫–∞—Å –Ω–∞ –≤—Å—ñ 5 –¥–Ω—ñ–≤ —Ç–∏–∂–Ω—è (–ü–Ω-–ü—Ç)
3. –ó–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø'—è—Ç–Ω–∏—Ü—è –º–∏–Ω—É–ª–æ–≥–æ —Ç–∏–∂–Ω—è
4. –Ü–Ω—à—ñ –¥–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–º–∏ —ñ –±—É–¥—É—Ç—å –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ –ø—Ä–æ—Ç—è–≥–æ–º —Ç–∏–∂–Ω—è

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ–∫—Å–ø–æ—Ä—Ç—É

–ö–æ–∂–µ–Ω –¥–µ–Ω—å –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç:

```
–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ | Email | –õ–æ–∫–∞—Ü—ñ—è | –ì—Ä–∞—Ñ—ñ–∫ | –î–µ–Ω—å1 | –î–µ–Ω—å2 | ... | –î–µ–Ω—å5
```

## üîç –©–æ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è

- ‚úÖ –ß–∞—Å –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏
- ‚úÖ –°—Ç–∞—Ç—É—Å (–≤—á–∞—Å–Ω–æ/–∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è)
- ‚úÖ –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å
- ‚úÖ –ù–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π —á–∞—Å
- ‚úÖ –í—ñ–¥–ø—É—Å—Ç–∫–∏ –∑ PeopleForce (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–º—ñ—á–∞—é—Ç—å—Å—è –∫–æ–ª—å–æ—Ä–æ–º)
- ‚úÖ –õ–æ–∫–∞—Ü—ñ—ó —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤

## ‚öôÔ∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –§–∞–π–ª–∏:

- `tracker_alert/bot/scheduler.py` - –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–¥–∞—á
- `tracker_alert/scripts/export_weekly.py` - –°–∫—Ä–∏–ø—Ç –µ–∫—Å–ø–æ—Ä—Ç—É

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:

```python
EXPORT_TIME = time(8, 0)  # 08:00
REPORT_TIMEZONE = "Europe/Warsaw"
day_of_week='mon-fri'  # –¢—ñ–ª—å–∫–∏ —Ä–æ–±–æ—á—ñ –¥–Ω—ñ
```

### –õ–æ–≥–∏:

–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±–æ—Ç–∞:

- `üìÖ Monday detected: exporting last Friday`
- `üìÖ Exporting yesterday: 2025-10-14`
- `‚úÖ Export completed successfully`

## üö® –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥—Å—Ç–µ–∂—É—î:

- Timeout –µ–∫—Å–ø–æ—Ä—Ç—É (–º–∞–∫—Å–∏–º—É–º 5 —Ö–≤–∏–ª–∏–Ω)
- –ü–æ–º–∏–ª–∫–∏ –µ–∫—Å–ø–æ—Ä—Ç—É
- –°—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

–í—Å—ñ –ø–æ–º–∏–ª–∫–∏ –ª–æ–≥—É—é—Ç—å—Å—è –∑ –ø–æ–≤–Ω–∏–º stack trace.

## üìù –ü—Ä–∏–∫–ª–∞–¥–∏

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –í—ñ–≤—Ç–æ—Ä–æ–∫ 15.10.2025

```
08:00 - –ï–∫—Å–ø–æ—Ä—Ç –ø–æ–Ω–µ–¥—ñ–ª–∫–∞ 14.10.2025
–î–∞–Ω—ñ –¥–æ–¥–∞—é—Ç—å—Å—è –≤ —ñ—Å–Ω—É—é—á–∏–π Week 42
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ü–æ–Ω–µ–¥—ñ–ª–æ–∫ 14.10.2025

```
08:00 - –ï–∫—Å–ø–æ—Ä—Ç –ø'—è—Ç–Ω–∏—Ü—ñ 11.10.2025
–°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Week 42 (—è–∫—â–æ –Ω–µ —ñ—Å–Ω—É—î)
–ó–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø'—è—Ç–Ω–∏—Ü—è
–Ü–Ω—à—ñ –¥–Ω—ñ (–ü–Ω-–ß—Ç) –ø–æ—Ä–æ–∂–Ω—ñ
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –°—É–±–æ—Ç–∞ 12.10.2025

```
08:00 - –ï–∫—Å–ø–æ—Ä—Ç –ù–ï –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
–õ–æ–≥: "‚è≠Ô∏è  Skipping export on weekend"
```

## üîß –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –µ–∫—Å–ø–æ—Ä—Ç—É

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤—Ä—É—á–Ω—É:

```bash
python3 -m tracker_alert.scripts.export_weekly 2025-10-14
```

## ‚úÖ –°—Ç–∞—Ç—É—Å

Scheduler –∑–∞–ø—É—â–µ–Ω–∏–π —ñ –ø—Ä–∞—Ü—é—î:

```
Scheduler started:
  - Telegram reports: 10:00 Europe/Warsaw
  - Sheets export: 08:00 Europe/Warsaw (Mon-Fri)
```
